<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Members</title><script src="https://cdn.tailwindcss.com"></script><script type="module" src="./js/auth.js"></script><script type="module" src="./js/members.js"></script><script type="module">
import { requireAuth } from './js/auth.js'
import { getMembers, addMember } from './js/members.js'
const user = await requireAuth()
async function load(){ const members=await getMembers(); const tbody=document.getElementById('m'); tbody.innerHTML=''; members.forEach(m=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td class="p-3">${m.card_id}</td><td class="p-3">${m.full_name}</td><td class="p-3">${m.member_type}</td><td class="p-3">${m.expiry_date}</td>`; tbody.appendChild(tr) })}
document.getElementById('form').onsubmit=async(e)=>{e.preventDefault(); await addMember({full_name:document.getElementById('name').value,member_type:document.getElementById('type').value,expiry_date:document.getElementById('exp').value,email:document.getElementById('email').value}); load(); e.target.reset()}
load()
</script></head><body class="bg-gray-100 min-h-screen"><div class="p-6"><h1 class="text-3xl font-bold mb-6">Member Management</h1><form id="form" class="bg-white p-4 rounded shadow mb-6 grid grid-cols-2 gap-4"><input id="name" placeholder="Full Name" required><select id="type" required><option>student</option><option>teacher</option><option>public</option></select><input id="email" type="email" placeholder="Email"><input id="exp" type="date" required><button type="submit" class="bg-green-600 text-white py-2 rounded col-span-2">Add Member</button></form><table class="w-full bg-white rounded shadow"><thead class="bg-gray-200"><tr><th class="p-3">Card ID</th><th class="p-3">Name</th><th class="p-3">Type</th><th class="p-3">Expiry</th></tr></thead><tbody id="m"></tbody></table><a href="dashboard.html" class="mt-6 inline-block bg-indigo-600 text-white px-6 py-3 rounded">Back to Dashboard</a></div></body></html>
